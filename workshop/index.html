<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Mechanisms for Talking</title>
	<script type="text/javascript" src="lib/d3.v3.js"></script>
	<script type="text/javascript" src="lib/jquery-1.7.2.min.js"></script>
	<style type="text/css">
		/* CSS style rules will go here */
		.labels, .labelsMain{
		    font-family: Gotham-Light;
		    font-size: 12px;
		    fill:grey;
		}
		.link{
			fill:grey;
			stroke:grey;
			opacity:.3;
		}
{
    margin: 0;
    padding: 0;
}

html, body, .Container
{
    height: 100%;
}

    .Container:before
    {
        content: '';
        height: 100%;
        float: left;
    }

.Header
{
    margin-bottom: 10px;
    background-color: #6ea364;
}
.Content
{
    position: relative;
    z-index: 1;
}
    .Content:after
    {
        content: '';
        clear: both;
        display: block;
    }

.Wrapper
{
    position: absolute;
    width: 100%;
    height: 100%;
}
    .Wrapper > div
    {
        height: 100%;
    }

.LeftContent
{
    overflow: auto;
    margin-top:3%;
}

/*this is actually left content*/
.RightContent 
{
    float: left;
    margin-left: 10px;
    margin-top:4%;
}
#container{
	width:33%;
/*			margin-left:50px;
	margin-top:50px;
	margin-bottom:50px;
	position:absolute;*/
}
#g-welcome-Artboard_1, #g-welcome-Artboard_2, #g-welcome-Artboard_3, #g-welcome-Artboard_4{
	position:relative;
	float: left;
	margin-top:1%;
	left:6%;
}
/*		#g-welcome-Artboard_1, #g-welcome-Artboard_2, #g-welcome-Artboard_3, #g-welcome-Artboard_4{
			position:relative;
    		float: left;
    		margin-top:1%;
		}
		#g-welcome-box{
			width: 63%;
		    float: right;
		    margin-top:6%;
		}
		#container{
			width:33%;
			margin-left:50px;
			margin-top:50px;
			margin-bottom:50px;
			position:absolute;
		}*/
	</style>
</head>
<body>
    <div class="Container">
        <div class="Content">
            <div class="Wrapper">
                <div class="RightContent">
<div id = "container"></div>
                </div>
                <div class="LeftContent">
<div id='g-welcome-box' class='ai2html'>
	<!-- ai file: welcome -->
	<style type='text/css' media='screen,print'>
		.g-artboard {
			margin:0 auto;
		}
	</style>
</div>
<!-- Artboard: Artboard_1 -->
<div id='g-welcome-Artboard_1' class='g-artboard g-artboard-v3 ' data-min-width='437'>
	<style type='text/css' media='screen,print'>
		#g-welcome-Artboard_1{
			position:relative;
			overflow:hidden;
			width:437px;
		}
		.g-aiAbs{
			position:absolute;
		}
		.g-aiImg{
			display:block;
			width:100% !important;
		}
		#g-welcome-Artboard_1 p{
			font-family:nyt-franklin,arial,helvetica,sans-serif;
			font-size:13px;
			line-height:18px;
			margin:0;
		}
		#g-welcome-Artboard_1 .g-aiPstyle0 {
			font-size:48px;
			line-height:58px;
			letter-spacing:-0.015em;
			color:#ffffff;
		}
		#g-welcome-Artboard_1 .g-aiPstyle1 {
			font-size:10px;
			line-height:12px;
			color:#ffffff;
		}
		#g-welcome-Artboard_1 .g-aiPstyle2 {
			font-size:10px;
			line-height:12px;
			letter-spacing:-0.0225em;
			color:#ffffff;
		}
		.g-aiPtransformed p { white-space: nowrap; }
	</style>
	<div id='g-welcome-Artboard_1-graphic'>
		<img id='g-ai0-0'
			class='g-aiImg'
			src='welcome-Artboard_1.png'
			/>
		<div id='g-ai0-1' class='g-Layer_1 g-aiAbs' style='top:38.3809%;left:20.087%;'>
			<p class='g-aiPstyle0'>WELCOME</p>
		</div>
		<div id='g-ai0-2' class='g-Layer_1 g-aiAbs' style='top:93.0942%;left:3.9496%;'>
			<p class='g-aiPstyle1'>CoHERE + BALTHAZAR WORKSHOP</p>
		</div>
		<div id='g-ai0-3' class='g-Layer_1 g-aiAbs' style='top:95.0541%;left:3.9496%;'>
			<p class='g-aiPstyle2'>FEBRUARY 2017</p>
		</div>
	</div>
</div>
<!-- Artboard: Artboard_2 -->
<div id='g-welcome-Artboard_2' class='g-artboard g-artboard-v3 ' data-min-width='437'>
	<style type='text/css' media='screen,print'>
		#g-welcome-Artboard_2{
			position:relative;
			overflow:hidden;
			width:437px;
		}
		.g-aiAbs{
			position:absolute;
		}
		.g-aiImg{
			display:block;
			width:100% !important;
		}
		#g-welcome-Artboard_2 p{
			font-family:nyt-franklin,arial,helvetica,sans-serif;
			font-size:13px;
			line-height:18px;
			margin:0;
		}
		.g-aiPtransformed p { white-space: nowrap; }
	</style>
	<div id='g-welcome-Artboard_2-graphic'>
		<img id='g-ai1-0'
			class='g-aiImg'
			src='welcome-Artboard_2.png'
			/>
	</div>
</div>
<!-- Artboard: Artboard_3 -->
<div id='g-welcome-Artboard_3' class='g-artboard g-artboard-v3 ' data-min-width='437'>
	<style type='text/css' media='screen,print'>
		#g-welcome-Artboard_3{
			position:relative;
			overflow:hidden;
			width:437px;
		}
		.g-aiAbs{
			position:absolute;
		}
		.g-aiImg{
			display:block;
			width:100% !important;
		}
		#g-welcome-Artboard_3 p{
			font-family:nyt-franklin,arial,helvetica,sans-serif;
			font-size:13px;
			line-height:18px;
			margin:0;
		}
		.g-aiPtransformed p { white-space: nowrap; }
	</style>
	<div id='g-welcome-Artboard_3-graphic'>
		<img id='g-ai2-0'
			class='g-aiImg'
			src='welcome-Artboard_3.png'
			/>
	</div>
</div>
<!-- Artboard: Artboard_4 -->
<div id='g-welcome-Artboard_4' class='g-artboard g-artboard-v3 ' data-min-width='437'>
	<style type='text/css' media='screen,print'>
		#g-welcome-Artboard_4{
			position:relative;
			overflow:hidden;
			width:437px;
		}
		.g-aiAbs{
			position:absolute;
		}
		.g-aiImg{
			display:block;
			width:100% !important;
		}
		#g-welcome-Artboard_4 p{
			font-family:nyt-franklin,arial,helvetica,sans-serif;
			font-size:13px;
			line-height:18px;
			margin:0;
		}
		.g-aiPtransformed p { white-space: nowrap; }
	</style>
	<div id='g-welcome-Artboard_4-graphic'>
		<img id='g-ai3-0'
			class='g-aiImg'
			src='welcome-Artboard_4.png'
			/>
	</div>
</div>
<!-- End ai2html - 2017-04-22 - 13:42 -->
                </div>
            </div>
        </div>
    </div>
















<script type="text/javascript">
		// D3 code will go here

	var activities = [

	      {
	        "type": "WELCOME",
	        "index":1,
	        "color":"#fdd922",
	        "underlings": ["peace-envelope", "id-necklace", "move-in-space"],
	      }, 
	      {
	        "type": "OUTSIDE-IN",
	        "index":2,
	        "color":"#21bbaf",
	        "underlings": ["hunt-gather", "regroup-upload", "show-tell","compare-curate"],
	      },
	      { 
	        "type": "OTHER-SHOES",
	        "index":3,
	        "color":"#ed7c77",
	        "underlings": ["stances-characters", "rounds1-2-3"],
	      },
	      { 
	        "type": "FUTURE-PAST-NOW",
	        "index":4,
	        "color":"#b895df",
	        "underlings": ["past-see", "now-note", "future-draw"],
	      },
	      {
	        "type": "CO-CREATION",
	        "index":5,
	        "color":"#007aaa",
	        "underlings": ["design-challenge", "concept-sketch", "group-share"],
	          // "properties": {
	          //   "who": "Groups of 4",
	          //   "what": "blah blah",
	          //   "where": "blah blah",
	          //   "why": "blah blah"
	          // },
	      }
	]

var leftMargin = 60;
var containerWidth = $("#container").width();
var width = containerWidth;
var w = containerWidth;
var h = window.innerHeight - leftMargin;
var radius = 10;
var svg;
svg = d3.select("#container").append("svg").attr("class","main")
		.attr("width", w)
		.attr("height", h)

var circs;

var xScale = d3.scale.ordinal()
			.range([leftMargin, w/2]);
var yScale = d3.scale.linear()
			.range([leftMargin, h-(leftMargin*2)]);
// var color = d3.scale.category20c();
var circTwo;

var colorScale = d3.scale.ordinal()
	.range([ "#fdd922", "#21bbaf", "#ed7c77", "#b895df", "#007aaa" ]);
makeCircs();
function makeCircs(){
	colorScale.domain([1,activities.length]);
	xScale.domain(activities);
	yScale.domain([1,activities.length]);
	// xScale.domain([0, activities.length])
	var circsRad = 20;
	var smallRad = 5;
	circs = svg.selectAll(".circs")
			.data(activities)
			.enter()
			.append("circle")
			.attr("class",function(d){
				return d.type
			})
			.attr("transform", function(d,i){
			    return "translate(" + (xScale(d.type)) + ", "+ (yScale(d.index)) +")";
			})
			.attr("cx", 0)
			.attr("cy", 0)
			.attr("r", circsRad)
			.attr("fill", "white")
			.attr("opacity", 1)
			.attr("stroke", function(d,i){
				return d.color;
			})
			.attr("stroke-width",3);
	texts = svg.selectAll(".labels")
			.data(activities)
			.enter()
			.append("text")
			.attr("class","labels")
			.attr("transform", function(d,i){
			    return "translate(" + (xScale(d.type)) + ", "+ (yScale(d.index)) +")";
			})
			.attr("x", 0)
			.attr("y", ".2em")
			.text(function(d,i){
				return d.index;
			})
			.attr("text-anchor","middle")
	textsMain = svg.selectAll(".labelsMain")
			.data(activities)
			.enter()
			.append("text")
			.attr("class","labelsMain")
			.attr("transform", function(d,i){
			    return "translate(" + (xScale(d.type)) + ", "+ (yScale(d.index)) +")";
			})
			.attr("x", 0)
			.attr("y", -circsRad-8)
			.text(function(d,i){
				return d.type;
			})
			.attr("text-anchor","middle")

	var ids = svg.selectAll(".id")	
		.data(activities);
	enteringID = ids.enter()
		.append("g")
		.classed("id",true)
		.attr("transform", function(d,i){
			return "translate(" + (xScale(d.type)) + ", "+ (yScale(d.index)) +")";
		})
		.attr("fill", function(d,i){
			return d.color;
		})
		.attr("stroke", function(d,i){
			return d.color;
		});
var divFactor = 10;

	enteringID.selectAll(".cat")
		.data(function(d,i){
			return d.underlings;
		})
		.enter()
		.append("circle")
		.classed("cat",true)
		.attr("cx", function(d,i){
			return circsRad*2+(i*10);
		})
		.attr("cy", function(d,i){
			return circsRad/divFactor+(i*20);
		})
		.attr("r", smallRad)
		.attr("opacity", 1)

	enteringID.selectAll(".labels")
		.data(function(d,i){
			return d.underlings;
		})
		.enter()
		.append("text")
		.classed("labels",true)
		.attr("x", function(d,i){
			return circsRad*2+(i*10);
		})
		.attr("y", function(d,i){
			return circsRad/divFactor+(i*20);
		})
		.attr("dx",smallRad*2)
		.attr("dy",smallRad)
		.attr("stroke","none")
		.attr("fill","none")
		.text(function(d){
			return d;
		})

	enteringID.selectAll(".liney")
		.data(function(d,i){
			return d.underlings;
		})
		.enter()
		.append("line")
		.classed("liney",true)
		.attr("y1", function(d,i){
			if(i>0){
				return circsRad/divFactor+((i-1)*20);
			}else{
				return circsRad/divFactor+(i*20);				
			}
		})
		.attr("y2", function(d,i){
			return circsRad/divFactor+(i*20);
		})

		.attr("x1", function(d,i){
			if(i==0){
				return circsRad-1+(i*10);
			}else{
				return circsRad+(i*10)+smallRad*2;
			}
		})
		.attr("x2", function(d,i){
			return circsRad*2+(i*10);
		})
		.attr("stroke-width",3)
		.attr("opacity", .5)
}


	</script>
</body>
</html>